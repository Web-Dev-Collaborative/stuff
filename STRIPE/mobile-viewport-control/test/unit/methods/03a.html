<!doctype html>
<html>
<head>
  <meta id="metaTag" name="viewport" content="initial-scale=1">
  <link rel="stylesheet" type="text/css" href="test.css">
</head>
<body>
  <h1>Test 3a</h1>
  <h2>Set Scale by modifying meta tag</h2>
  <p>
  Verifies that we can set the scale by modifying all
  *-scale of an existing meta tag.
  </p>
  <button id="runBtn">Run Test</button>
  <div id="resultDiv"></div>

  <script src="../../../index.js"></script>
  <script src="test.js"></script>

  <script>

  globalTest.run = function(){
    testSequence([
      function() {
        metaTag.setAttribute("content", (
          "initial-scale=1.25,"+
          "minimum-scale=1.25,"+
          "maximum-scale=1.25"
        ));
      },
      function() {
        assert({
            name: "getScale()",
            actual: mobileViewportControl.getScale(),
            expected: 1.25,
        });
        metaTag.setAttribute("content", (
          "initial-scale=1,"+
          "minimum-scale=1,"+
          "maximum-scale=1"
        ));
      },
      function() {
        assert({
          name: "getScale() after restore",
          actual: mobileViewportControl.getScale(),
          expected: 1,
        });
        metaTag.setAttribute("content", "initial-scale=1");
      },
      function() {
        log("Make sure you can zoom now.");
      },
    ]);
  };

  </script>

</body>
</html>
